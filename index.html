<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="google-site-verification" content="ZxKSonHR9fGKxGY0pK48MMg1-0Zm4bMEyZAmhbmQys0">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <link href="stylesheets/screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-88890615-1', 'auto');
      ga('send', 'pageview');
    </script>

      <script src="javascripts/all.js" type="text/javascript"></script>

      <script>
        $(function() {
          setupLanguages(["shell"]);
        });
      </script>
  </head>

  <body class="index">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/lionfish.png" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="introduction">Introduction</h1>

<p>LionFish provides data on the biggest ecommerce retailers in the world: Amazon, Walmart, AliExpress, and more.</p>

<h1 id="supported-retailers">Supported retailers</h1>

<p>The table below shows the endpoints available for each retailer. Contact support@lionfishdata.com if you want to request support for a new retailer.</p>

<table><thead>
<tr>
<th>Name</th>
<th>Retailer Code</th>
<th>Product Details</th>
<th>Product Prices</th>
</tr>
</thead><tbody>
<tr>
<td>AliExpress</td>
<td>aliexpress</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr>
<td>Amazon</td>
<td>amazon</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr>
<td>Amazon United Kingdom</td>
<td>amazon_uk</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr>
<td>Amazon Canada</td>
<td>amazon_ca</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr>
<td>Amazon Mexico</td>
<td>amazon_mx</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr>
<td>Costco</td>
<td>costco</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr>
<td>Walmart</td>
<td>walmart</td>
<td>Y</td>
<td>Y</td>
</tr>
</tbody></table>

          <h1 id="get-realtime-product-info">Get realtime product info</h1>

<p>Get critical product data delivered realtime including title, description, price, and more for any product on <strong>Amazon</strong> (more retailers coming soon).</p>

<blockquote>
<p>Example realtime product info request</p>
</blockquote>
<pre class="highlight shell"><code>curl https://api.lionfishdata.com/v1/products/B00W9FLKTY/fast?retailer<span class="o">=</span>amazon <span class="se">\</span>
  -u &lt;client_token&gt;:
</code></pre>

<p>To retrieve product info, make a GET request to the following URL, replacing <code class="prettyprint">:product_id</code> with the retailer&rsquo;s unique identifier for a particular product and specifying the request attributes as query parameters in the URL</p>

<p><code class="prettyprint">https://api.lionfishdata.com/v1/products/:product_id/fast?retailer=amazon</code></p>

<h3 id="authentication">Authentication</h3>

<p>You authenticate your account by including your <a href="https://www.lionfishdata.com/user/-/realtime/try">client token</a> in your request. Authentication is performed through HTTP Basic Auth, where the client token is the basic auth username value. You do not need to provide a password.</p>

<h3 id="required-request-attributes">Required request attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>retailer</td>
<td>String</td>
<td>The retailer for the product</td>
</tr>
</tbody></table>

<h3 id="optional-request-attributes">Optional request attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>timeout</td>
<td>Number</td>
<td>Number of seconds to process the request before aborting (default 60 seconds).</td>
</tr>
<tr>
<td>max_age</td>
<td>Number</td>
<td>The data returned in the response will be at most this many seconds old. The minimum is 30 seconds. <strong>To take full advantage of caching set this value based on your application&rsquo;s requirements.</strong></td>
</tr>
</tbody></table>

<blockquote>
<p>Example product info response</p>
</blockquote>
<pre class="highlight shell"><code><span class="o">{</span>
  <span class="s2">"status"</span>: <span class="s2">"completed"</span>,
  <span class="s2">"original_retail_price"</span>: 3797,
  <span class="s2">"timestamp"</span>: 1501535860,
  <span class="s2">"retailer"</span>: <span class="s2">"amazon"</span>,
  <span class="s2">"feature_bullets"</span>: <span class="o">[</span>
    <span class="s2">"USB 3.0 4 ports super speed hub for computer/notebook. Drive free, supports: Windows (XP/Vista/7/8/8.1/10), Mac OSx(10.x and above), and Linux."</span>,
    <span class="s2">"The built-in intelligent USB charging port (2A/1A), has an intelligent auto switching chip."</span>
  <span class="o">]</span>,
  <span class="s2">"images"</span>: <span class="o">[</span>
    <span class="s2">"https://images-na.ssl-images-amazon.com/images/I/71CpWUVHpyL.jpg"</span>,
    <span class="s2">"https://images-na.ssl-images-amazon.com/images/I/711M8uk%2BYVL.jpg"</span>
  <span class="o">]</span>,
  <span class="s2">"package_dimensions"</span>: <span class="o">{</span>
    <span class="s2">"weight"</span>: <span class="o">{</span>
      <span class="s2">"amount"</span>: 3.2,
      <span class="s2">"unit"</span>: <span class="s2">"ounces"</span>
    <span class="o">}</span>,
    <span class="s2">"size"</span>: <span class="o">{</span>
      <span class="s2">"width"</span>: <span class="o">{</span>
        <span class="s2">"amount"</span>: 8.7,
        <span class="s2">"unit"</span>: <span class="s2">"inches"</span>
      <span class="o">}</span>,
      <span class="s2">"depth"</span>: <span class="o">{</span>
        <span class="s2">"amount"</span>: 41.3,
        <span class="s2">"unit"</span>: <span class="s2">"inches"</span>
      <span class="o">}</span>,
      <span class="s2">"length"</span>: <span class="o">{</span>
        <span class="s2">"amount"</span>: 16.5,
        <span class="s2">"unit"</span>: <span class="s2">"inches"</span>
      <span class="o">}</span>
    <span class="o">}</span>
  <span class="o">}</span>,
  <span class="s2">"price"</span>: 1399,
  <span class="s2">"question_count"</span>: 115,
  <span class="s2">"asin"</span>: <span class="s2">"B00W9FLKTY"</span>,
  <span class="s2">"ship_price"</span>: 0,
  <span class="s2">"main_image"</span>: <span class="s2">"https://images-na.ssl-images-amazon.com/images/I/71CpWUVHpyL.jpg"</span>,
  <span class="s2">"review_count"</span>: 582,
  <span class="s2">"product_id"</span>: <span class="s2">"B00W9FLKTY"</span>,
  <span class="s2">"title"</span>: <span class="s2">"USB 3.0 Hub, atolla 4 Ports Super Speed USB 3 Hub Splitter With On Off Switch With 1 USB Charging Port (Cable Length 2 Feet, No AC adapter)"</span>,
  <span class="s2">"MPN"</span>: <span class="s2">"CH-204U3"</span>,
  <span class="s2">"product_description"</span>: <span class="s2">"Color:4-Port Hub without AC adapter           The Perfect USB 3.0 HUB you ever</span><span class="se">\n</span><span class="s2">need   SuperSpeed Sync and Dynamic FastCharging: Extend 4 more USB 3.0 Ports +</span><span class="se">\n</span><span class="s2">1 Fast Charger Port (up to 2.1 Amps) Unplugging-Free: Individual on/off switch</span><span class="se">\n</span><span class="s2">turns off port whenever you don't need it.  Vertical USB Port provides</span><span class="se">\n</span><span class="s2">additional space for </span><span class="se">\"</span><span class="s2">fat</span><span class="se">\"</span><span class="s2"> USB devices and plugs Nice Design, Solid Built with</span><span class="se">\n</span><span class="s2">a strong cable of 26</span><span class="se">\"</span><span class="s2"> length.  Provide one 5V DC port for an additional power</span><span class="se">\n</span><span class="s2">adapter."</span>,
  <span class="s2">"product_details"</span>: <span class="o">[</span>
    <span class="s2">"Product Dimensions: 41.3 x 16.5 x 8.7 inches"</span>,
    <span class="s2">"Item Weight: 3.2 ounces"</span>
  <span class="o">]</span>,
  <span class="s2">"categories"</span>: <span class="o">[</span>
    <span class="s2">"Electronics"</span>,
    <span class="s2">"Computers &amp; Accessories"</span>
  <span class="o">]</span>,
  <span class="s2">"stars"</span>: null,
  <span class="s2">"brand"</span>: <span class="s2">"Atolla"</span>,
  <span class="s2">"variant_specifics"</span>: <span class="o">[</span>
    <span class="o">{</span>
      <span class="s2">"dimension"</span>: <span class="s2">"Color"</span>,
      <span class="s2">"value"</span>: <span class="s2">"4-Port Hub without AC adapter"</span>
    <span class="o">}</span>
  <span class="o">]</span>,
  <span class="s2">"all_variants"</span>: <span class="o">[</span>
    <span class="o">{</span>
      <span class="s2">"variant_specifics"</span>: <span class="o">[</span>
        <span class="o">{</span>
          <span class="s2">"dimension"</span>: <span class="s2">"Color"</span>,
          <span class="s2">"value"</span>: <span class="s2">"4-Port Hub without AC adapter"</span>
        <span class="o">}</span>
      <span class="o">]</span>,
      <span class="s2">"product_id"</span>: <span class="s2">"B00W9FLKTY"</span>
    <span class="o">}</span>
  <span class="o">]</span>
<span class="o">}</span>
</code></pre>

<h3 id="response-attributes">Response attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>String</td>
<td>Possible values are <code class="prettyprint">processing</code>, <code class="prettyprint">failed</code>, or <code class="prettyprint">completed</code></td>
</tr>
<tr>
<td>retailer</td>
<td>String</td>
<td>The retailer for the product</td>
</tr>
<tr>
<td>product_id</td>
<td>String</td>
<td>The retailer&rsquo;s unique identifier for the product</td>
</tr>
<tr>
<td>price</td>
<td>Number</td>
<td>The price of the product (buy box)</td>
</tr>
<tr>
<td>ship_price</td>
<td>Number</td>
<td>The price to ship the product (buy box)</td>
</tr>
<tr>
<td>title</td>
<td>String</td>
<td>Title of the product</td>
</tr>
<tr>
<td>main_image</td>
<td>String</td>
<td>The URL of the primary image associated with the product</td>
</tr>
<tr>
<td>images</td>
<td>Array</td>
<td>An array of image URLs associated with the product</td>
</tr>
<tr>
<td>variant_specifics</td>
<td>Array</td>
<td>Array of objects containing information about the types and values of product variants available. A variant specifics object contains a <code class="prettyprint">dimension</code> field describing the type of the variant (e.g. &ldquo;Color&rdquo;) and a <code class="prettyprint">value</code> field describing the specific value available</td>
</tr>
<tr>
<td>product_description</td>
<td>String</td>
<td>The description of the product</td>
</tr>
<tr>
<td>timestamp</td>
<td>String</td>
<td>The timestamp that the resource was accessed</td>
</tr>
</tbody></table>

<h3 id="errors">Errors</h3>

<blockquote>
<p>Example error response</p>
</blockquote>
<pre class="highlight shell"><code><span class="o">{</span>
  <span class="s2">"_type"</span>: <span class="s2">"error"</span>,
  <span class="s2">"code"</span>: <span class="s2">"product_unavailable"</span>,
  <span class="s2">"message"</span>: <span class="s2">"One of the products you selected is unavailable."</span>,
  <span class="s2">"data"</span>: <span class="o">{</span><span class="s1">'product_id'</span>: <span class="s1">'018293801'</span><span class="o">}</span>
<span class="o">}</span>
</code></pre>

<p>If there is an error processing a request, the result endpoint will return an error object containing three fields: <code class="prettyprint">code</code>, <code class="prettyprint">message</code>, and <code class="prettyprint">data</code>.</p>

<p>The <code class="prettyprint">code</code> field provides a short, unique error code describing the error situation. The <code class="prettyprint">message</code> field provides a human readable message describing the error and is intended for the developer and not the end user. The <code class="prettyprint">data</code> field contains specific information related to the error (for example, the maximum quantity allowed and the desired quantity would be shown for a <code class="prettyprint">max_quantity_exceeded</code> error).</p>

<p>The LionFish API uses the following errors:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>expired_product_id</td>
<td>The product_id you used is no longer supported by the retailer.</td>
</tr>
<tr>
<td>insufficient_variants</td>
<td>You did not select all required variants for a product.</td>
</tr>
<tr>
<td>internal_error</td>
<td>LionFish or the retailer you requested is experiencing outages. Please try again or contact support@lionfishdata.com if this error persists.</td>
</tr>
<tr>
<td>invalid_client_token</td>
<td>Your client token is invalid.</td>
</tr>
<tr>
<td>invalid_json</td>
<td>The JSON in your request could not be parsed.</td>
</tr>
<tr>
<td>invalid_request</td>
<td>Validation failed on the request.</td>
</tr>
<tr>
<td>invalid_variant</td>
<td>One of the product variants you provided was not valid.</td>
</tr>
<tr>
<td>unauthorized_access</td>
<td>You are not authorized to make this API call. Please contact support@lionfishdata.io.</td>
</tr>
</tbody></table>

          <h1 id="report-delivery">Report delivery</h1>

<h2 id="email">Email</h2>

<p>If you choose to have your reports delivered using email, an email will be sent to the address your schedule specified. The email will contain a download url.</p>

<h2 id="webhook">Webhook</h2>

<blockquote>
<p>Example json that would be posted to your webhook</p>
</blockquote>
<pre class="highlight shell"><code><span class="o">{</span>
    <span class="s2">"list_name"</span>: <span class="s2">"MyList"</span>,
    <span class="s2">"download_url"</span>:<span class="s2">"https://lionfish-reports.s3.amazonaws.com/2eea6ae4-205e-4b34-9872-a48d8114b7c6/2017-08-15/e1ca2d69e92349d1a886e5a8ace3504f.csv"</span>
    <span class="s2">"schedule_id"</span>: <span class="s2">"BxnPDkeVzcFbz7b5xdCJg3"</span>
    <span class="s2">"run_id"</span>: <span class="s2">"FMCURdeAERDVdzUb1PQZoD"</span>
    <span class="s2">"job_type"</span>: <span class="s2">"details"</span>
    <span class="s2">"user_id"</span>: <span class="s2">"6o1q5PyxH4URELKq9k5Qvy"</span>
    <span class="s2">"list_id"</span>: <span class="s2">"Kue8WUQNTSn5tqJ3EvTkQx"</span>
<span class="o">}</span>
</code></pre>

<p>If you choose to have your reports delivered using webhook we will post JSON to the url you specified when creating your schedule. That json will contain a URL (under the json key <code class="prettyprint">download_url</code>) from which your report can be downloaded from.</p>

          <h1 id="automating-lionfish">Automating Lionfish</h1>

<p>You can automate everything in LionFish&rsquo;s web interface using our API. You will find documentation on how to authenticate and some example common operations. If you want to do something that is not documented you can inspect the network panel in your web browser while using the web interface or contact support.</p>

<h2 id="api-access">API Access</h2>

<blockquote>
<p>Example request that grants an access token</p>
</blockquote>
<pre class="highlight shell"><code>curl -H <span class="s2">"Content-Type:application/json"</span> -d <span class="s1">'{"api_key": "API_KEY_HERE"}'</span> <span class="se">\</span>
<span class="s2">"https://www.lionfishdata.com/v0/account/YOUR_ACCOUNT_ID/api_login"</span>
</code></pre>

<p>Go to the <a href="https://www.lionfishdata.com/user/-/api">API access page</a> and copy Account ID and API Key.  If you lose your API Key or accidentally expose it, click &ldquo;Generate API key&rdquo; and it will be revoked and a new key generated. If you loose your API Key we can not recover it and you will have to generate a new one.</p>

<p>This API key cannot be used directly. Instead, you need to exchange it for a short-lived security token, which can then be used in our API. See the request to the right for an example.</p>

<blockquote>
<p>Example request that includes an <code class="prettyprint">Authorization</code> header</p>
</blockquote>
<pre class="highlight shell"><code>curl -H <span class="s2">"Authorization: Bearer YOUR_TOKEN_VALUE"</span> -H <span class="s2">"Content-Type:application/json"</span> <span class="se">\</span>
<span class="s2">"https://www.lionfishdata.com/v0/user/YOUR_ACCOUNT_ID/lists"</span>
</code></pre>

<p>You will get back json which contains a <code class="prettyprint">token</code> key. Include this token in an <code class="prettyprint">Authorization: Bearer YOUR_TOKEN_VALUE</code> header to all API requests.</p>

<h2 id="list-your-lists">List your lists</h2>

<blockquote>
<p>Example request that returns all your lists</p>
</blockquote>
<pre class="highlight shell"><code>curl -H <span class="s2">"Authorization: Bearer YOUR_TOKEN_VALUE"</span> -H <span class="s2">"Content-Type:application/json"</span> <span class="se">\</span>
<span class="s2">"https://www.lionfishdata.com/v0/user/YOUR_ACCOUNT_ID/lists"</span>
</code></pre>

<blockquote>
<p>Example response of all your lists</p>
</blockquote>
<pre class="highlight shell"><code><span class="o">{</span>
  <span class="s2">"count"</span>: 50,
  <span class="s2">"data"</span>: <span class="o">[</span>
    <span class="o">{</span>
      <span class="s2">"created_time"</span>: <span class="s2">"2017-07-24T19:28:11.464760+00:00"</span>,
      <span class="s2">"frontend_details"</span>: <span class="o">{</span>
        <span class="s2">"description"</span>: <span class="s2">"Just a list"</span>
      <span class="o">}</span>,
      <span class="s2">"id"</span>: <span class="s2">"F9pfzK3rsvCyZsgHrnbpvW"</span>,
      <span class="s2">"name"</span>: <span class="s2">"Test Products"</span>,
      <span class="s2">"num_products"</span>: 202,
    <span class="o">}</span>,
    <span class="o">{</span>
      <span class="s2">"created_time"</span>: <span class="s2">"2017-08-15T21:02:03.850895+00:00"</span>,
      <span class="s2">"frontend_details"</span>: <span class="o">{}</span>,
      <span class="s2">"id"</span>: <span class="s2">"Kue8WUQNTSn5tqJ3EvTkQx"</span>,
      <span class="s2">"name"</span>: <span class="s2">"My list"</span>,
      <span class="s2">"num_products"</span>: 11,
    <span class="o">}</span>
  <span class="o">]</span>,
  <span class="s2">"offset"</span>: 0,
  <span class="s2">"total_count"</span>: 2,
  <span class="s2">"url"</span>: <span class="s2">"https://www.lionfishdata.com/v0/user/YOUR_ACCOUNT_ID/lists"</span>
<span class="o">}</span>
</code></pre>

<p>Often the first thing you will want to do is get a list of your lists so you can find a particular list&rsquo;s id.</p>

<h2 id="updating-your-list">Updating your list</h2>

<p><a href="/#list-your-lists">Once you have a list&rsquo;s id</a>, its easy to replace the products in a list. <strong>This will remove all existing items!</strong> Replacing the list rather than updating has the benefit that you don&rsquo;t need to keep track of which items were removed or added, just <code class="prettyprint">PUT</code> them all. All <a href="/#supported-retailers">retailer codes</a> are supported.</p>

<blockquote>
<p>Example request that replaces your list&rsquo;s products</p>
</blockquote>
<pre class="highlight shell"><code>curl -X PUT -H <span class="s2">"Authorization: Bearer YOUR_TOKEN_VALUE"</span> -H <span class="s2">"Content-Type:application/json"</span> <span class="se">\</span>
 <span class="s1">'https://www.lionfishdata.com/v0/user/YOUR_ACCOUNT_ID/lists/LIST_ID/products'</span> <span class="se">\</span>
 -d <span class="s1">'{"products":[{"retailer":"amazon","product_id":"B00000J0G7"},{"retailer":"amazon","product_id":"B010S9N6OO"}]}'</span>
</code></pre>

<blockquote>
<p>Example response</p>
</blockquote>
<pre class="highlight shell"><code><span class="o">{</span>
  <span class="s2">"num_products"</span>: 1,
  <span class="s2">"success"</span>: <span class="nb">true</span>
<span class="o">}</span>
</code></pre>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
          </div>
      </div>
    </div>
  </body>
</html>
